% 競技プログラミング入門
% Tomoki Imai

# イントロダクション
この文書は、競技プログラミングに興味があって、始めてみたいけど、どこから始めていいかわからない、そんな君のために書きました。
競技プログラミングするメリットだなんだっていうのは、他のページにたくさん書いてあるから、もう書かないよ。

## 事前に必要とする知識
まぁこの文章は競技プログラミングの入門であって、プログラミングの入門ではないんだ。
だから、以下の知識を要求するよ。
まぁ、とりあえずやってみて、わからないなと思ったらググってほしい。

- 最低限のC++の知識(関数定義,if,for,whileくらい？)
- 最低限の英語力と、分からなかったときにググれること
- コマンドラインからのコンパイル、実行ができること
- 標準入出力(stdin/stdout)を扱えること

言語については、C++を選択した。これは、C++が競技プログラミングでよく使われていて、ほぼ全ての大会で使用可能であるから。
この文書を読み終わった後、次のステージに滑らかに上がれるようにね。

もしも、君が不安になったりしたときのために、リンクを貼っておくね。

- [Programing Place(C++編)](http://www.geocities.jp/ky_webid/cpp/language/index.html)
- [ロベールのC++教室](http://www7b.biglobe.ne.jp/~robe/cpphtml/)
- [英語のアルク](http://www.alc.co.jp/)
- [競技プログラミングのためのWindows入門](./win.html)

# どこから始めるの？

## 問題サイトの選択
競技プログラミングを始める上で一番の障害となるのがここだと思う。
個人的には、[Codeforces](http://codeforces.com/)から始めるのをお勧めする。
[Codeforces](http://codeforces.com/)は、問題もたくさんあるし、大会も割と頻繁にあるからね。あと、重要なこととして、どんな場合にプログラムが不正解になるのかわかるからね。Codeforcesに疲れてきたり、ちょっと違う問題を解きたいときのためにいくつかリンクを貼っておくよ。

- [Aizu Online Judge(AOJ)](http://judge.u-aizu.ac.jp/onlinejudge/index.jsp) 日本語の問題が多くある。お勧め
- [AtCoder](http://atcoder.jp/) 日本語の大会が月1で開かれている。
- [Peking University Judge Online(POJ)](http://poj.org/status) ちょっと難しめの問題がたくさんある。
- [TopCoder](http://community.topcoder.com/tc) 世界的に有名な大会。過去問も充実

この文書では、Codeforcesから始めることにしよう。
アカウントも簡単に作れるから、[ここ](http://codeforces.com/register)からつくっておいてね。

# はじめての問題
Codeforcesの解いてる人が多い順に問題をソートしたのが[ここ](http://codeforces.com/problemset?order=BY_SOLVED_DESC)。

## Codeforces 4A Water melon
まず、[この問題](http://codeforces.com/problemset/problem/4/A)を例にして、競技プログラミングを始めよう。

### 問題を読む
まず、競技プログラミングをするのに一番といってもいいほど重要なこと。
問題をきちんと、理解すること。ここではそのコツを紹介しておくよ。

- 何を入力するのか、何を出力するのか
- 入力が数字である場合、どれくらいの大きさなのか

それを踏まえて、さっきの問題を見てみよう。ほんとなら、自分で読まなきゃいけないけれど、ここではサービスで必要なところを翻訳してみるよ。

~~~~~~
ある暑い日、Peteと彼の友達、Billyはスイカを買うことにしました。
彼らは、even numberのファンで、スイカを二つに分けたとき、
彼らのスイカがeven number kgだったらいいなと思いました。

入力
最初ただ一つの行は、w(1 ≤ w ≤ 100)を含んでいます。それは彼らの買ったスイカの重さです。

出力
もしも、PeteとBillyがスイカを二つのeven number kgの部分に分けられるとき"YES"を、そうでないときには"NO"を出力しなさい。

サンプル
入力:
8
出力
YES

彼らは、4,4もしくは、2,6にスイカを分けられます。
~~~~~~

多くの競技プログラミングのサイトでも、ほぼ同じようなフォーマットで問題が与えられる。
つまり、ストーリー、入力と出力、サンプルが与えられることが多い。

問題はわかったかな？じゃあ、問題を解いてみよう。

### 問題を解く
重要なこととして、いきなりプログラムを書くのではなくて、紙とペンを使って考えるというのがある。
まぁとても簡単な問題ならいいかもだけど、やっぱり不安だしさ。
じゃあ、一緒に考えよう。

まず、PeteとBillyのスイカが偶数になる。つまり、$n,m$を自然数として、Peteは$2n$,Billyは$2m$のスイカを持ってることにしよう。
すると、スイカの合計は、$2(n+m)$になる。ただし、$n,m \geq 1$だよ。つまり、$n+m \geq 2$となるわけだ。
ということは、スイカの合計というのは、4以上の偶数であればよさそうということがわかった。

### プログラミングする
さて、上で問題が大体何をすればよいか考えたね。つまり、スイカの合計が4以上の偶数かどうかをチェックすればよかった。
プログラムがどういう形式で入力/出力をするかだけど、TopCoderといった例外を除けば、基本的には標準入出力から取ることになる。

#### 入力する
入力に関しては、基本的にcin,coutを使うことを推奨してる。詳しくは[こちら](http://pushl.net/library.html#入出力)。
[ここ](http://www.geocities.jp/ky_webid/cpp/library/029.html)も参考にしてね。
あと、基本的に入力に使う変数は問題文に合わせよう。

~~~~~~{.cpp}
#include <iostream>

using namespace std;

int main(){
    // watermelon (問題文と変数名を同じにした。)
    int w;
    cin >> w;

    return 0;
}
~~~~~~

#### 計算する
実際にさっき考えたアルゴリズムに従って計算してみよう。

~~~~~~{.cpp}
#include <iostream>

using namespace std;

int main(){
    // watermelon (問題文と変数名を同じにした。)
    int w;
    cin >> w;


    bool yes;
    if(w >= 4 && w % 2 == 0){
        yes = true;
    }else{
        yes = false;
    }

    return 0;
}
~~~~~~

#### 出力する
答を出力しよう。今回は、"YES"か"NO"かを出力する問題なんだけど、問題によっては、実数を出力しなさいといった問題だったりする。
そういうときには、何桁まで出すかを考慮しなきゃいけない場合があるんだ。それをどうやってやるか。[ここ](http://pushl.net/library.html#cout)を参照したりしてね。

~~~~~~{.cpp}
#include <iostream>

using namespace std;

int main(){
    // watermelon (問題文と変数名を同じにした。)
    int w;
    cin >> w;

    bool yes;
    if(w >= 4 && w % 2 == 0){
        yes = true;
    }else{
        yes = false;
    }

    // 大文字、小文字に注意
    if(yes){
        cout << "YES" << endl;
    }else{
        cout << "NO" << endl;
    }
    return 0;
}
~~~~~~

#### テストする
さて、プログラムはかけた。これでプログラムが完成したわけだけど、本当にちゃんと動くだろうか。サンプルとちょっとした自分のテストを試してみよう。

~~~~~~
// main.cppがおいてあるディレクトリに移動する
$ cd codeforces/4A
$ ls
 main.cpp
// コンパイルする
$ g++ main.cpp
$ ./a.out
8
YES
$ ./a.out
5
NO
~~~~~~

ちゃんと動いてそうだね。これでいってみよう。

#### 提出する
ドキドキの提出タイム。codeforcesの場合、さっきの問題ページの右側で、ファイルを選択して、submitしよう。
結果が出たかな？結果は以下のように場合分けされる。

- Accepted(AC) 正解!おめでとう!
- Wrong Answer(WA) まちがった答を出したみたい。
- Time Limit Exceeded(TLE) 時間切れ。もっと高速化してね。
- Runtime Error (RE) なんかおかしなことがおこった。
- Memory Limit Exceeded(MLE) メモリつかいすぎ
- Presentation Error(PE) 表示のしかたがおかしいよ。(改行してないとか。)

基本的によく見るのは、上の3つだと思う。これ以外にも一応あるけど、あんまり見ないかな。ACするまでがんばって再提出してみよう。ちょっとだけ解決のヒントを書いていくね。

##### Wrong Answer
Wrong Answerになったとき、何を疑えばいいんだろう。

- プログラムにバグがある。
- そもそもアルゴリズムが間違っている。
- コーナーケースが存在している。
- オーバーフローしている。

多くの場合は最初の三つだよ。プログラムにバグがあれば、考えが正しくても、もちろん不正解になっちゃうよ。でコーナーケースっていうのは、多くの場合当て嵌まる法則が当て嵌まらないようなケースのことを言って、例えば今回の場合だと、偶数なら大丈夫そうに見えるけど、2という偶数なのにダメっていうコーナーケースが存在してる。アルゴリズムを考えるときには注意。あと、大きな数字を扱ったりするときにはオーバーフローがおこることがある。それを解決するには、long longとかの大きな型を使ってみるといいんだ。

###### プログラムのバグ
プログラムのバグといえば、たくさんあるけれど、原因をいくつかあげておくね。

- ロジックのミス(ifの条件が逆とか)
- 初期化ミス(上界、下界の見積りミス含め)
- 入出力ミス
- 変数名ミス(i,j、逆になったりね。)
- 浮動小数点の誤差死(浮動小数点を扱うときにはいくつか注意が必要。)(参考:http://d.hatena.ne.jp/komiyam/20111210/1323503019)

##### Time Limit Exceeded
Time Limit Exceededになる原因は大きくわけて、3つくらいある。

- アルゴリズムの計算量が大きすぎる
- 無限ループに嵌っている
- 定数項が大きすぎる

時間が掛っているわけだから、一番ありそうなのがアルゴリズムが遅すぎるということ。計算量っていうのは、アルゴリズムがどれくらいの速さで問題を解けるだろうかという指標。詳しくはググってみてね。
あと、無限ループにはまっていること。これはそのまんまだね。

##### 計算量
すこしだけ計算量について書いておこうと思う。

競技プログラミングでは、たいていの場合実行時間に制限がある。（コンテストや問題にもよるけど、だいたい1秒から5秒くらい。）
せっかくコードを書いても、処理が重くて制限時間内にプログラムが終了しないとTLEになってしまう。
だから、コードを書く前には自分の考えた方法が制限時間に間に合うかを見積もるようにしたほうがいい。

実行時間の見積り方はいろいろあるけど、競技プログラミングでよくある方法は

- 整数演算や単純な変数の読み書きしかしないなら、1千万～1億回のループで1秒（1億ループはかなり新しめのマシンの場合）
- 浮動小数点数の計算は整数演算の10倍程度遅い

とするもの。
もちろん、サーバで動いているマシンの性能や、ループ内で行なっている処理の内容にも左右されるけど、競技プログラミングで書くようなコードであればだいたいこの法則に当てはまる。

オーダーっていう概念もあって、それも重要だけれど、単純な見積りはこれでやってみよう。

##### Runtime Error
なにか変なことってどんなことだろう。例えばこんなこと。

- 配列の大きさを越えたアクセス
- 再帰が深すぎる
- return 0;していない。(AOJ等では起こりえる)
- 標準エラー出力に出力している。(同上)

配列の大きさを越えたアクセスは知ってると思うけれど、再帰が深すぎるっていうのは知らないかもしれないね。
基本的に再帰には、深さの限界がある。何も考えてないと、嵌ることもあるかもしれない。これに関しては、Stack Over Flowっていう名前がついてるから、ググってみてね。
最後の二つは、AOJ特有の問題かもしれない。Codeforcesではこれは起きなかったんだけど、逆にCodeforcesからAOJにうつるときに嵌るかもしれないし、書いておくね。


#### 解けなかったときには
どうしても解けない。そんなときにどうするか。

- 周りの人と相談する
- 人のソースを見る。
- 問題名とか、問題番号でググる

Codeforcesでは原則、ソースコードは公開される。問題のリストの右側,"standings"をクリックしてみよう。その問題を解いた人のソースコードがそこから見えるよ。

# 次のステップ
ひとまずすごく簡単な問題を解いてみた。次は何をしたらいいんだろう。

## 問題をひたすら解く
問題をひたすら解く、それもいいだろうね。でもそれじゃいつか飽きちゃうんじゃないかな。

## 大会に出よう!
競技プログラミングが多くの人を惹くつける理由はここにあるんだ。対戦だ。いかにはやく問題を正確に解くか、それを世界中の人と競争する。
Codeforcesのトップページに"Before contest..."とかなってることに気づいたかな？
Codeforcesは大体週一で大会を開いてるんだ。それに参加してみると、きっと楽しいよ。
もちろん、他の大会にでるのもいいし。

# 参照先
大会にでろーなんていってもさ、必要なパーツがわかんなきゃだめだって、そう文句も言いたくなる。
しょうがないね。C++のライブラリもちょっとは知っておかなきゃいけないんだ。

- vector,set,queue...とかの使い方
- よくでるアルゴリズムの書き方

そういうのを学ぶには、もちろん問題をやって、知らなかったらググって、っていうのもいいけれど、オンラインではいくつか競技ライブラリと呼ばれるものを公開してる人がいる。
特に、僕が公開しているものはある程度C++のライブラリの使い方を紹介してもいる。

## 競技ライブラリ
- [TomokiImaiライブラリ](http://pushl.net/library.html)
- [Spaghetthi Source](http://www.prefield.com/algorithm/index.html)


## C++関連
- [C++編(標準ライブラリ) トップページ](http://www.geocities.jp/ky_webid/cpp/library/index.html)
- [ロベールのC++教室](http://www7b.biglobe.ne.jp/~robe/cpphtml/)
- [Programing Place(C++編)](http://www.geocities.jp/ky_webid/cpp/language/index.html)

## 関連書籍

- [最強最速アルゴリズマー養成講座](http://www.amazon.co.jp/%E6%9C%80%E5%BC%B7%E6%9C%80%E9%80%9F%E3%82%A2%E3%83%AB%E3%82%B4%E3%83%AA%E3%82%BA%E3%83%9E%E3%83%BC%E9%A4%8A%E6%88%90%E8%AC%9B%E5%BA%A7-%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0%E3%82%B3%E3%83%B3%E3%83%86%E3%82%B9%E3%83%88TopCoder%E6%94%BB%E7%95%A5%E3%82%AC%E3%82%A4%E3%83%89-%E9%AB%98%E6%A9%8B-%E7%9B%B4%E5%A4%A7/dp/4797367172/ref=pd_bxgy_b_text_y) : やさしめの競技プログラミング入門本
- [プログラミングコンテストチャレンジブック](http://www.amazon.co.jp/%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0%E3%82%B3%E3%83%B3%E3%83%86%E3%82%B9%E3%83%88%E3%83%81%E3%83%A3%E3%83%AC%E3%83%B3%E3%82%B8%E3%83%96%E3%83%83%E3%82%AF-%E7%AC%AC2%E7%89%88-%EF%BD%9E%E5%95%8F%E9%A1%8C%E8%A7%A3%E6%B1%BA%E3%81%AE%E3%82%A2%E3%83%AB%E3%82%B4%E3%83%AA%E3%82%BA%E3%83%A0%E6%B4%BB%E7%94%A8%E5%8A%9B%E3%81%A8%E3%82%B3%E3%83%BC%E3%83%87%E3%82%A3%E3%83%B3%E3%82%B0%E3%83%86%E3%82%AF%E3%83%8B%E3%83%83%E3%82%AF%E3%82%92%E9%8D%9B%E3%81%88%E3%82%8B%EF%BD%9E-%E7%A7%8B%E8%91%89%E6%8B%93%E5%93%89/dp/4839941068/ref=pd_sim_b_5) : すこしだけ↑よりも難しめだけれど、とても内容が充実している。おすすめ。
- [アルゴリズムクイックリファレンス](http://www.amazon.co.jp/%E3%82%A2%E3%83%AB%E3%82%B4%E3%83%AA%E3%82%BA%E3%83%A0%E3%82%AF%E3%82%A4%E3%83%83%E3%82%AF%E3%83%AA%E3%83%95%E3%82%A1%E3%83%AC%E3%83%B3%E3%82%B9-George-T-Heineman/dp/4873114284/ref=sr_1_1?s=books&ie=UTF8&qid=1368662164&sr=1-1&keywords=%E3%82%A2%E3%83%AB%E3%82%B4%E3%83%AA%E3%82%BA%E3%83%A0%E3%82%AF%E3%82%A4%E3%83%83%E3%82%AF%E3%83%AA%E3%83%95%E3%82%A1%E3%83%AC%E3%83%B3%E3%82%B9) : 競技プログラミングの本ではないけれど、色々なアルゴリズムが割と網羅的にのっている。

## Twitter
もし君がTwitterをしてるんだったら、丁度いい。競技プログラマは割とTwitterが好きな傾向にあるみたいだからね。
わからなかったら、つぶやいて、もしかしたら誰か助けてくれるかも。ぼくもできれば君の力になりたいな。
おすすめリンクをかいとくね。

- [kinabaさんのTopcoder-jpリスト](https://twitter.com/kinaba/topcoder-jp)ここの人をたくさんフォローするといい感じ
- [今すぐフォローすべき競技プログラミング界のスーパーエンジニア](http://d.hatena.ne.jp/chokudai/20110617/1308242031) つよい人たちの紹介
- [Tomoki Imai on Twitter](https://twitter.com/Tomoki_Imai) ぼく。たまにアカウントはありません。

もし今やってなくても、今からでも遅くないよ。やっぱり、一緒にやってる人がいるっていいからさ。

## ブログ
もし君が筆忠実なら、ブログを書くことをおすすめしてみるよ。

## カレンダー
TopCoderとか、Codeforces、他のもろもろの大会っていつあるんだろう？そんなとき、[Topcoder部のカレンダー](http://topcoder.g.hatena.ne.jp/calendar)が役にたつ。
これは有志の人達が、大会のスケジュールを纏めてくれているものだよ。
iCal形式も用意されてるから、Googleカレンダーにもインポートできて便利。
